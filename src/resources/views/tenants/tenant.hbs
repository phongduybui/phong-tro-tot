<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="/css/tenant.css">
    <script src="/src/app/jquery-3.5.1.min.js" type="text/javascript"></script>
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous"/>
</head>
<body>
    <div class="container-fluit">
        <div class="row">
            <div class="col-lg-2" >
                <div class="up-wrap">
                    <h6 style="margin: 85px 0 0 30px; color:rgb(230, 228, 228);">MANAGE ROOM</h6>
                </div>
                <div class="wrap">
                    <table class="table table-hover">
                    <tbody>
                        <tr class="light">
                            <td>
                                <form class="form-inline my-2 my-lg-0">
                                    <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
                                </form>
                            </td>
                        </tr>
                        <tr class="light">
                            <td style="border-bottom:1px solid rgb(156, 152, 152);"><i class="fas fa-home"></i> <a href="/manage/room_manage" style="text-decoration: none; margin-left: 10px; color: black;">Motel room</a></td>
                        </tr>
                        <tr class="light">
                            <td class="a"><i class="fas fa-border-all ml-4"></i> <a href="/manage/room_manage/function/manage-room-status" style="text-decoration: none; margin-left: 15px; color: black;">Room manage</a></td>
                        </tr>
                        <tr class="light" style="background-color: rgb(216, 215, 215); border-left: 1px solid black;">
                            <td class="a"><i class="fas fa-address-card ml-4"></i></i> <a href="/manage/room_manage/function/tenant" style="text-decoration: none; margin-left: 10px; color: black;">Tenant</a></td>
                        </tr>
                        <tr class="light">
                            <td class="a"><i class="fas fa-newspaper ml-4"></i></i> <a href="/manage/room_manage/function/declare" style="text-decoration: none; margin-left: 12px; color: black;">Declare</a></td>
                        </tr>
                        <tr class="light">
                            <td class="a"><i class="fas fa-file-alt ml-4 "></i></i> <a href="/manage/room_manage/function/invoice" style="text-decoration: none; margin-left: 17px; color: black;">Invoice</a></td>
                        </tr>
                        <tr class="light">
                                <td style=""><i class="fas fa-video"></i><a href="/manage/room_manage/function/check-camera" style="text-decoration: none; margin-left: 10px; color: black;">Check camera</a></td>
                            </tr>
                        {{!-- <tr class="light">
                            <td style="border-bottom: 1px solid rgb(156, 152, 152);"><i class="fas fa-home"></i> <a href="/manage/room_manage" style="text-decoration: none; margin-left: 10px; color: black;">Motel room</a></td>
                        </tr>
                        <tr class="light">
                            <td><i class="fas fa-border-all ml-4"></i> <a href="" style="text-decoration: none; margin-left: 15px; color: black;">Room manage</a></td>
                        </tr>
                        <tr class="light">
                            <td><i class="fas fa-address-card ml-4"></i></i> <a href="/manage/room_manage/function/tenant" style="text-decoration: none; margin-left: 10px; color: black;">Tenant</a></td>
                        </tr>
                        <tr class="light">
                            <td><i class="fas fa-newspaper ml-4"></i></i> <a href="" style="text-decoration: none; margin-left: 12px; color: black;">Declare</a></td>
                        </tr>
                        <tr class="light">
                            <td><i class="fas fa-file-alt ml-4 "></i></i> <a href="/manage/room_manage/function/invoice" style="text-decoration: none; margin-left: 17px; color: black;">Invoice</a></td>
                        </tr> --}}
                    </tbody>
                </table>
                </div>
                
            </div>
            <div class="col-lg-10">
                <h2 style="margin-top: 100px;margin-bottom: 1em; text-align: center; font-weight: 400;">MANAGEMENT OF RENTAL INFORMATION</h2>
                <button style="float: left; margin: 0 15px 5px 0; width:60px;" data-toggle="modal" data-target="#squarespaceModal" class="btn btn-danger"><i class="fas fa-user-plus"></i></button>
                <div class="content">
                    {{!-- <table class="table" style="margin-top: 10px;">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Age</th>
                                <th>Card ID</th>
                                <th>Phone</th>
                                <th>Address</th>
                                <th>contract</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        {{#each tenant}}
                        <tbody>
                            <tr>
                                <td colspan="7" class="page-header"><button type="button" class="tbtn"><i class="fa fa-plus-circle"></i><i class="fas fa-person-booth"></i> Room {{this.room_number}} &emsp;</button> </td>
                            </tr>
                            <tr class="toggler">
                                <td>{{this.name}}</td>
                                <td>{{this.age}}</td>
                                <td>{{this.card_id}}</td>
                                <td>{{this.phone}}</td>
                                <td>{{this.address}}</td>
                                <td></td>
                                <td>
                                    <a href="/manage/room_manage/function/tenant/{{this._id}}/edit-tenant"><button class="btn btn-primary center-block"><i class="fas fa-pencil-alt"></i></button> </a>
                                    <a href="" data-id="{{this._id}}" data-toggle="modal" data-target="#delete-course-modal"><button class="btn btn-danger center-block">&#10007;</button></a>
                                </td>
                            </tr>
                        </tbody>
                        {{/each}}
                    </table> --}}

                    <table id="mytable" class="table table-bordred table-hover" style="box-shadow:0px 5px 10px 10px rgb(221, 220, 220);">
                        <thead>
                            <th>#</th>
                            <th>Name</th>
                            <th>Age</th>
                            <th>Card ID</th>
                            <th>Phone</th>
                            <th>Address</th>
                            <th>Room</th>
                            <th>Contract</th>
                            <th>Action</th>
                        </thead>
                        {{#each tenant}}
                        <tbody>
                            <tr>
                                <td>{{sum @index 1}}</td>
                                <td>{{this.name}}</td>
                                <td>{{this.age}}</td>
                                <td>{{this.card_id}}</td>
                                <td>{{this.phone}}</td>
                                <td>{{this.address}}</td>
                                <td>{{this.room_number}}</td>
                                <td><a href="/manage/room_manage/function/declare/{{this._id}}/contract">See</a></td>
                                <td>
                                    <a href="/manage/room_manage/function/tenant/{{this._id}}/edit-tenant"><button class="btn btn-primary center-block"><i class="fas fa-pencil-alt"></i></button> </a>
                                    <a href="" data-id="{{this._id}}" data-toggle="modal" data-target="#delete-course-modal"><button class="btn btn-danger center-block">&#10007;</button></a>
                                </td>
                            </tr>
                        </tbody>
                        {{/each}}   
                    </table>
                </div>
            </div>
        </div>
        
        
        
    </div>

    {{!-- MODAL --}}
    <div class="modal fade" id="squarespaceModal" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header" style="text-align: center; background-color: #4882c0; color: white;">
                            <h4 class="modal-title" id="lineModalLabel"><i style="padding-left: 1em;" class="fas fa-user-plus"></i></h4>
                        </div>
                        <div class="modal-body">
                            
                            <!-- content goes here -->
                            <form method="POST" action="" id="configform">
                                <div class="form-group">
                                    {{!-- <label for="name" style="display: none;" id="a">Name</label> --}}
                                    <input type="text" placeholder="Enter name" class="form-control" id="exampleInputEmail1" name="name" style="border-left: 0; border-top: 0; border-right: 0;margin-top:1em;margin-bottom:2em; border-radius: 10px;" required>
                                </div>
                                <div class="form-group">
                                    {{!-- <label for="age">Age</label> --}}
                                    <input type="text" placeholder="Enter age" class="form-control" id="exampleInputEmail1" name="age" style="border-left: 0; border-top: 0; border-right: 0;margin-top:1em; margin-bottom:2em; border-radius: 10px;" required>
                                </div>
                                <div class="form-group">
                                    {{!-- <label for="card_id">Card ID</label> --}}
                                    <input type="text" placeholder="Enter card ID" class="form-control" id="exampleInputEmail1" name="card_id" style="border-left: 0; border-top: 0; border-right: 0;margin-top:1em;margin-bottom:2em; border-radius: 10px;" required>
                                </div>
                                <div class="form-group">
                                    {{!-- <label for="phone">Phone</label> --}}
                                    <input type="text" placeholder="Enter phone number" class="form-control" id="exampleInputEmail1" name="phone" style="border-left: 0; border-top: 0; border-right: 0;margin-top:1em;margin-bottom:2em; border-radius: 10px;" required>
                                </div>
                                <div class="form-group">
                                    {{!-- <label for="room_number">Room number</label> --}}
                                    <input type="text" placeholder="Enter room number" class="form-control" id="exampleInputEmail1" name="room_number" style="border-left: 0; border-top: 0; border-right: 0;margin-top:1em; margin-bottom:2em; border-radius: 10px;" required>
                                </div>
                                <div class="form-group">
                                    {{!-- <label for="address">Address</label> --}}
                                    <input type="text" placeholder="Enter address" class="form-control" id="exampleInputEmail1" name="address" style="border-left: 0; border-top: 0; border-right: 0;margin-top:1em; margin-bottom:2em; border-radius: 10px;" required>
                                </div>
                                <div class="form-group">
                                    {{!-- <label for="address">Address</label> --}}
                                    <input type="email" placeholder="Enter email" class="form-control" id="exampleInputEmail1" name="email" style="border-left: 0; border-top: 0; border-right: 0;margin-top:1em; margin-bottom:2em; border-radius: 10px;" required>
                                </div>
                                <button type="submit" class="btn btn-primary" style="width: 80px;"><i class="fas fa-plus-square"></i></button>
                            </form>
                        </div>
                        <div class="modal-footer">
                            <div class="btn-group btn-group-justified" role="group" aria-label="group button">
                                <div class="btn-group" role="group">
                                    <button type="button" class="btn btn-danger mr-2" data-dismiss="modal"  role="button">Close</button>
                                    <button type="button" class="btn btn-secondary" id="configreset">Reset</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

    {{!--  --}}


    {{!-- Delete --}}
            <div class="modal" tabindex="-1" id="delete-course-modal">
                <div class="modal-dialog">
                    <div class="modal-content">
                    <div class="modal-header" style="background-color:#dc3545; color: white;">
                        <h5 class="modal-title">Delete Tenant</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close" style="color: white;">
                        <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <p>Do you want delete Tenant?</p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-danger" id="btn-delete-teant">Delete</button>
                        <button type="button" class="btn btn-danger" data-dismiss="modal">Cancel</button>
                    </div>
                    </div>
                </div>
            </div>

    {{!-- Form  delete--}}

    <form method="POST" name="delete-tenant-form"></form>

    <script>
        $(document).ready(function () {
            $(".tbtn").click(function () {
                $(this).parents(".custom-table").find(".toggler1").removeClass("toggler1");
                $(this).parents("tbody").find(".toggler").addClass("toggler1");
                $(this).parents(".custom-table").find(".fa-minus-circle").removeClass("fa-minus-circle");
                $(this).parents("tbody").find(".fa-plus-circle").addClass("fa-minus-circle");
            });

            $('#configreset').click(function(){
                $('#configform')[0].reset();
            });
        });


        $(document).ready(function () {
            $('#configreset').click(function(){
                $('#configform')[0].reset();
            });

        });

        document.addEventListener('DOMContentLoaded', function(){

            var tenantId;
            var btnDeleteTenant = document.getElementById('btn-delete-teant');
            var deleteForm = document.forms['delete-tenant-form'];
            
            $('#delete-course-modal').on('show.bs.modal', function (event) {
                var button = $(event.relatedTarget);
                tenantId = button.data('id');
            })

            btnDeleteTenant.onclick = function(){
                deleteForm.action = '/manage/room_manage/function/tenant/' + tenantId + '?_method=DELETE';
                deleteForm.submit();
            }
        });

        $(document).ready(function() {
            $('.form-control').focus(function(){
                placeholder = $(this).attr('placeholder');
                if(placeholder != undefined){
                    $(this).parent().prepend('<span class="input-placeholder">'+placeholder+'</span>');
                }
            });
            $('.form-control').blur(function(){
                $(this).parent().find('.input-placeholder').remove();
            });
        });

    </script>
</body>
</html>